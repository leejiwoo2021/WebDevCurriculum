(function(e){function t(t){for(var r,i,o=t[0],u=t[1],s=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0880":function(e,t,n){},"11c7":function(e,t,n){"use strict";n("0880")},1456:function(e,t,n){"use strict";n("ea29")},1895:function(e,t,n){"use strict";n("d0aa")},"1f3c":function(e,t,n){"use strict";n("8d29")},"36a6":function(e,t,n){"use strict";n("b518")},"3c08":function(e,t,n){"use strict";n("dcff")},"484c":function(e,t,n){},"513f":function(e,t,n){"use strict";n("fe8f")},5999:function(e,t,n){"use strict";n("a617")},"83bc":function(e,t,n){"use strict";n("c8c6")},"8d29":function(e,t,n){},"8f20":function(e,t,n){},"8f5e":function(e,t,n){},a617:function(e,t,n){},b518:function(e,t,n){},c14a:function(e,t,n){"use strict";n("8f20")},c8c6:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:"l-route-container"};function c(e,t,n,c,i,o){var u=Object(r["x"])("router-view");return Object(r["p"])(),Object(r["d"])("div",a,[Object(r["g"])(u)])}var i=Object(r["h"])({name:"App"});n("11c7");i.render=c;var o=i,u=n("5502"),s=Object(u["a"])({state:{selectedIndex:-1,selectedFileName:"",originContents:{},tempContents:{},fileList:[]},mutations:{updateFileList:function(e,t){e.fileList=t},addNewFileList:function(e,t){e.fileList.push(t)},updateSelectedIndex:function(e,t){e.selectedIndex=t},updateSelectedFileName:function(e,t){e.selectedFileName=t},updateTempContents:function(e,t){var n=t.fileName,r=t.newContent;e.tempContents[n]=r},updateOriginContents:function(e,t){var n=t.fileName,r=t.newContent;e.originContents[n]=r}},actions:{},modules:{}}),l=Object(r["E"])("data-v-b579ed76");Object(r["s"])("data-v-b579ed76");var d={class:"l-main-container"};Object(r["q"])();var p=l((function(e,t,n,a,c,i){var o=Object(r["x"])("Title"),u=Object(r["x"])("Menu"),s=Object(r["x"])("Navigator"),l=Object(r["x"])("Editor");return Object(r["p"])(),Object(r["d"])("div",d,[Object(r["g"])(o,{text:"TextEditor made by vue"}),Object(r["g"])(u),Object(r["g"])(s),Object(r["g"])(l)])})),f=Object(r["E"])("data-v-00121c71");Object(r["s"])("data-v-00121c71");var b={class:"l-title-container"};Object(r["q"])();var m=f((function(e,t,n,a,c,i){return Object(r["p"])(),Object(r["d"])("div",b,[Object(r["g"])("h2",null,Object(r["z"])(e.text),1)])})),v=Object(r["h"])({name:"Title",props:{text:String}});n("1456");v.render=m,v.__scopeId="data-v-00121c71";var O=v,j=Object(r["E"])("data-v-b0c31a68");Object(r["s"])("data-v-b0c31a68");var h={class:"l-menu-container"};Object(r["q"])();var g=j((function(e,t,n,a,c,i){var o=Object(r["x"])("NewFileBtn"),u=Object(r["x"])("SaveFileBtn"),s=Object(r["x"])("SaveAsFileBtn");return Object(r["p"])(),Object(r["d"])("div",h,[Object(r["g"])(o),Object(r["g"])(u),Object(r["g"])(s)])})),w=Object(r["E"])("data-v-47097856"),x=w((function(e,t,n,a,c,i){return Object(r["p"])(),Object(r["d"])("button",{onClick:t[1]||(t[1]=function(){return e.clickHandler&&e.clickHandler.apply(e,arguments)}),class:"l-newFileBtn-container t-newFileBtn-container"},"새 파일 만들기")})),y=n("1da1"),k=(n("96cf"),n("99af"),n("bc3a")),S=n.n(k);function F(e){return I.apply(this,arguments)}function I(){return I=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,H({query:'\n    query {\n      file(name: "'.concat(t,'") {\n        name\n        content\n      }\n    }\n  ')});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function N(){return C.apply(this,arguments)}function C(){return C=Object(y["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,H({query:"\n      query {\n        info {\n          list\n          lastFile\n        }\n      }\n    "});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function _(e,t){return B.apply(this,arguments)}function B(){return B=Object(y["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({query:'\n    mutation {\n      updateFile(name: "'.concat(t,'" content: ').concat(JSON.stringify(n),"){\n        msg\n      }\n    }\n  ")});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new Error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),B.apply(this,arguments)}function R(e,t){return L.apply(this,arguments)}function L(){return L=Object(y["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({query:'\n    mutation {\n      createFile(name: "'.concat(t,'" content:  ').concat(JSON.stringify(n),"){\n        msg\n      }\n    }\n  ")});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new Error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),L.apply(this,arguments)}function E(e){return q.apply(this,arguments)}function q(){return q=Object(y["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({query:'\n    mutation {\n      createFile(name: "'.concat(t,'" content:  ').concat(JSON.stringify([""]),"){\n        msg\n      }\n    }\n  ")});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),new Error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),q.apply(this,arguments)}function H(e){return T.apply(this,arguments)}function T(){return T=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,S.a.request({method:"post",baseURL:"https://localhost:8000/graphql",headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"},data:t});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e["catch"](1),localStorage.removeItem("token"),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),T.apply(this,arguments)}var M=Object(r["h"])({name:"NewFileBtn",methods:{clickHandler:function(){return Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=prompt("파일 이름을 입력하세요"),n=s.state.fileList,t){e.next=5;break}return alert("올바른 이름을 입력해주세요"),e.abrupt("return");case 5:if(-1===n.indexOf(t)){e.next=8;break}return alert("중복된 이름이 존재합니다"),e.abrupt("return");case 8:return e.prev=8,e.next=11,E(t);case 11:s.commit("addNewFileList",t),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](8),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[8,14]])})))()}}});n("513f");M.render=x,M.__scopeId="data-v-47097856";var A=M,$=Object(r["E"])("data-v-77dd7e34"),P=$((function(e,t,n,a,c,i){return Object(r["p"])(),Object(r["d"])("button",{onClick:t[1]||(t[1]=function(){return e.clickHandler&&e.clickHandler.apply(e,arguments)}),class:"l-saveFileBtn-container t-saveFileBtn-container"},"저장하기")})),U=Object(r["h"])({name:"SaveFileBtn",methods:{clickHandler:function(){return Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.state.selectedFileName,n=s.state.tempContents[t],e.prev=2,e.next=5,_(t,n);case 5:s.commit("updateOriginContents",{fileName:t,newContent:n}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))()}}});n("5999");U.render=P,U.__scopeId="data-v-77dd7e34";var J=U,D=Object(r["E"])("data-v-cd6b0d24"),z=D((function(e,t,n,a,c,i){return Object(r["p"])(),Object(r["d"])("button",{onClick:t[1]||(t[1]=function(){return e.clickHandler&&e.clickHandler.apply(e,arguments)}),class:"l-saveAsFileBtn-container t-saveAsFileBtn-container"}," 다른 이름으로 저장하기 ")})),V=Object(r["h"])({name:"SaveAsFileBtn",methods:{clickHandler:function(){return Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=prompt("파일 이름을 입력하세요"),n=s.state.fileList,r=s.state.selectedFileName,t){e.next=6;break}return alert("올바른 이름을 입력해주세요"),e.abrupt("return");case 6:if(-1===n.indexOf(t)){e.next=9;break}return alert("중복된 이름이 존재합니다"),e.abrupt("return");case 9:return a=s.state.tempContents[r],e.prev=10,e.next=13,R(t,a);case 13:s.commit("addNewFileList",t),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](10),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})))()}}});n("ecf0");V.render=z,V.__scopeId="data-v-cd6b0d24";var W=V,K=Object(r["h"])({name:"Menu",components:{NewFileBtn:A,SaveFileBtn:J,SaveAsFileBtn:W}});n("3c08");K.render=g,K.__scopeId="data-v-b0c31a68";var G=K,Q=Object(r["E"])("data-v-29024bf5");Object(r["s"])("data-v-29024bf5");var X={class:"l-navigator-container"};Object(r["q"])();var Y=Q((function(e,t,n,a,c,i){var o=Object(r["x"])("FileBtn");return Object(r["p"])(),Object(r["d"])("div",X,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.fileList,(function(t,n){return Object(r["p"])(),Object(r["d"])(o,{key:n,buttonIndex:n,onSetSelected:e.setSelected,name:t},null,8,["buttonIndex","onSetSelected","name"])})),128))])})),Z=(n("b0c0"),Object(r["E"])("data-v-59c5ef60"));Object(r["s"])("data-v-59c5ef60");var ee={class:"l-fileBtn-title"},te={key:0,class:"l-fileBtn-saveIndicator"};Object(r["q"])();var ne=Z((function(e,t,n,a,c,i){return Object(r["p"])(),Object(r["d"])("button",{onClick:t[1]||(t[1]=function(){return e.clickHandler&&e.clickHandler.apply(e,arguments)}),class:["l-fileBtn-container t-fileBtn-container",{"t-fileBtn-container-active":e.isActive}]},[Object(r["g"])("div",ee,Object(r["z"])(e.name),1),e.isUnSaved?(Object(r["p"])(),Object(r["d"])("div",te,"⦿")):Object(r["e"])("",!0)],2)})),re=(n("a9e3"),Object(r["h"])({name:"FileBtn",props:{buttonIndex:Number,name:String},methods:{clickHandler:function(){this.isActive||this.$emit("setSelected",this.buttonIndex,this.$props.name)}},computed:{selectedIndex:function(){return s.state.selectedIndex},isActive:function(){return this.selectedIndex===this.buttonIndex},isUnSaved:function(){return!!this.$props.name&&!(JSON.stringify(s.state.tempContents[this.$props.name])===JSON.stringify(s.state.originContents[this.$props.name]))}}}));n("c14a");re.render=ne,re.__scopeId="data-v-59c5ef60";var ae=re,ce=Object(r["h"])({name:"Navigator",components:{FileBtn:ae},methods:{setSelected:function(e,t){s.commit("updateSelectedIndex",e),s.commit("updateSelectedFileName",t)}},computed:{fileList:function(){return s.state.fileList}},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N();case 3:n=t.sent,r=n.data.info.list,a=n.data.info.lastFile,s.commit("updateFileList",r),s.commit("updateSelectedFileName",a),s.commit("updateSelectedIndex",e.fileList.indexOf(a)),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$router.push({path:"/login"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}});n("1f3c");ce.render=Y,ce.__scopeId="data-v-29024bf5";var ie=ce,oe=Object(r["E"])("data-v-6f1a33ba"),ue=oe((function(e,t,n,a,c,i){var o=Object(r["x"])("Line");return Object(r["p"])(),Object(r["d"])("div",{ref:"editor",class:"l-editor-container t-editor-container",contentEditable:"true",onKeyup:t[1]||(t[1]=function(){return e.keyUpHandler&&e.keyUpHandler.apply(e,arguments)})},[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.content,(function(e,t){return Object(r["p"])(),Object(r["d"])(o,{key:t,contentEditable:"true"},{default:oe((function(){return[Object(r["f"])(Object(r["z"])(e),1)]})),_:2},1024)})),128))],544)})),se=n("2909"),le=(n("d81d"),Object(r["E"])("data-v-122fd42e"));Object(r["s"])("data-v-122fd42e");var de={class:"l-line-container"};Object(r["q"])();var pe=le((function(e,t,n,a,c,i){return Object(r["p"])(),Object(r["d"])("div",de,[Object(r["w"])(e.$slots,"default",{},void 0,!0)])})),fe=Object(r["h"])({name:"Line"});n("36a6");fe.render=pe,fe.__scopeId="data-v-122fd42e";var be=fe,me=Object(r["h"])({name:"Editor",components:{Line:be},data:function(){return{content:[""]}},methods:{keyUpHandler:function(){var e=Object(se["a"])(this.$el.children).map((function(e){return e.innerHTML})),t=this.fileName;s.commit("updateTempContents",{fileName:t,newContent:e})}},computed:{fileName:function(){return s.state.selectedFileName}},watch:{fileName:function(e){var t=this,n=s.state.tempContents[e];n?this.content=s.state.tempContents[e]:F(e).then((function(e){var n=e.data.file.name,r=e.data.file.content;t.content=e.data.file.content,s.commit("updateTempContents",{fileName:n,newContent:r}),s.commit("updateOriginContents",{fileName:n,newContent:r})})).catch((function(){t.$router.push({path:"/login"})}))}}});n("fd32");me.render=ue,me.__scopeId="data-v-6f1a33ba";var ve=me,Oe=Object(r["h"])({name:"Main",components:{Title:O,Menu:G,Navigator:ie,Editor:ve},beforeMount:function(){localStorage.getItem("token")||this.$router.push("/login")}});n("1895");Oe.render=p,Oe.__scopeId="data-v-b579ed76";var je=Oe,he=Object(r["E"])("data-v-28b93ea2");Object(r["s"])("data-v-28b93ea2");var ge={class:"l-main-container"},we=Object(r["g"])("label",null,"ID : ",-1),xe=Object(r["g"])("label",null,"PW : ",-1);Object(r["q"])();var ye=he((function(e,t,n,a,c,i){var o=Object(r["x"])("Title");return Object(r["p"])(),Object(r["d"])("div",ge,[Object(r["g"])(o,{text:"Login"}),Object(r["g"])("div",null,[we,Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.id=t}),type:"text",placeholder:"ID를 입력해주세요"},null,512),[[r["B"],e.id]]),xe,Object(r["D"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.pw=t}),type:"password",placeholder:"PW를 입력해주세요"},null,512),[[r["B"],e.pw]]),Object(r["g"])("button",{onClick:t[3]||(t[3]=function(){return e.onSubmit&&e.onSubmit.apply(e,arguments)}),id:"loginBtn"},"로그인")])])})),ke=Object(r["h"])({name:"Login",components:{Title:O},data:function(){return{id:"",pw:""}},methods:{onSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.id&&e.pw){t.next=3;break}return alert("ID와 패스워드를 모두 입력해주세요"),t.abrupt("return");case 3:return n=e.id,r=e.pw,t.prev=5,t.next=8,S.a.post("https://localhost:8000/api/auth/login",{id:n,pw:r},{headers:{"Content-Type":"application/json"}});case 8:a=t.sent,200===a.status&&(c=a.data.token,localStorage.setItem("token",c),location.href="/"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))()}}});n("83bc");ke.render=ye,ke.__scopeId="data-v-28b93ea2";var Se=ke,Fe=n("6c02"),Ie=[{path:"/",name:"Main",component:je},{path:"/login",name:"Login",component:Se}],Ne=Object(Fe["a"])({history:Object(Fe["b"])(),routes:Ie}),Ce=Ne;Object(r["c"])(o).use(s).use(Ce).mount("#app")},d0aa:function(e,t,n){},dcff:function(e,t,n){},ea29:function(e,t,n){},ecf0:function(e,t,n){"use strict";n("484c")},fd32:function(e,t,n){"use strict";n("8f5e")},fe8f:function(e,t,n){}});
//# sourceMappingURL=app.50f14385.js.map