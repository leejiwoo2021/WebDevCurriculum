(function(e){function t(t){for(var c,i,o=t[0],u=t[1],s=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],c=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(c=!1)}c&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},a={app:0},r=[];function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0880":function(e,t,n){},"11c7":function(e,t,n){"use strict";n("0880")},1456:function(e,t,n){"use strict";n("ea29")},1895:function(e,t,n){"use strict";n("d0aa")},"36a6":function(e,t,n){"use strict";n("b518")},"3c08":function(e,t,n){"use strict";n("dcff")},"3f16":function(e,t,n){},5633:function(e,t,n){"use strict";n("d032")},"6f24":function(e,t,n){"use strict";n("d4a9")},"83bc":function(e,t,n){"use strict";n("c8c6")},"8f20":function(e,t,n){},9918:function(e,t,n){"use strict";n("3f16")},ae08:function(e,t,n){},b053:function(e,t,n){"use strict";n("b8af")},b518:function(e,t,n){},b8af:function(e,t,n){},c14a:function(e,t,n){"use strict";n("8f20")},c8c6:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),a={class:"l-route-container"};function r(e,t,n,r,i,o){var u=Object(c["x"])("router-view");return Object(c["p"])(),Object(c["d"])("div",a,[Object(c["g"])(u)])}var i=Object(c["h"])({name:"App"});n("11c7");i.render=r;var o=i,u=n("5502"),s=Object(u["a"])({state:{selectedIndex:-1,selectedFileName:"",originContents:{},tempContents:{},fileList:[]},mutations:{updateFileList:function(e,t){e.fileList=t},addNewFileList:function(e,t){e.fileList.push(t)},updateSelectedIndex:function(e,t){e.selectedIndex=t},updateSelectedFileName:function(e,t){e.selectedFileName=t},updateTempContents:function(e,t){var n=t.fileName,c=t.newContent;e.tempContents[n]=c},updateOriginContents:function(e,t){var n=t.fileName,c=t.newContent;e.originContents[n]=c}},actions:{},modules:{}}),l=Object(c["E"])("data-v-b579ed76");Object(c["s"])("data-v-b579ed76");var d={class:"l-main-container"};Object(c["q"])();var p=l((function(e,t,n,a,r,i){var o=Object(c["x"])("Title"),u=Object(c["x"])("Menu"),s=Object(c["x"])("Navigator"),l=Object(c["x"])("Editor");return Object(c["p"])(),Object(c["d"])("div",d,[Object(c["g"])(o,{text:"TextEditor made by vue"}),Object(c["g"])(u),Object(c["g"])(s),Object(c["g"])(l)])})),f=Object(c["E"])("data-v-00121c71");Object(c["s"])("data-v-00121c71");var b={class:"l-title-container"};Object(c["q"])();var v=f((function(e,t,n,a,r,i){return Object(c["p"])(),Object(c["d"])("div",b,[Object(c["g"])("h2",null,Object(c["z"])(e.text),1)])})),m=Object(c["h"])({name:"Title",props:{text:String}});n("1456");m.render=v,m.__scopeId="data-v-00121c71";var O=m,j=Object(c["E"])("data-v-b0c31a68");Object(c["s"])("data-v-b0c31a68");var h={class:"l-menu-container"};Object(c["q"])();var g=j((function(e,t,n,a,r,i){var o=Object(c["x"])("NewFileBtn"),u=Object(c["x"])("SaveFileBtn"),s=Object(c["x"])("SaveAsFileBtn");return Object(c["p"])(),Object(c["d"])("div",h,[Object(c["g"])(o),Object(c["g"])(u),Object(c["g"])(s)])})),x=Object(c["E"])("data-v-fc231c72"),w=x((function(e,t,n,a,r,i){return Object(c["p"])(),Object(c["d"])("button",{onClick:t[1]||(t[1]=function(){return e.clickHandler&&e.clickHandler.apply(e,arguments)}),class:"l-newFileBtn-container t-newFileBtn-container"},"새 파일 만들기")})),y=n("1da1"),k=(n("96cf"),n("99af"),n("bc3a")),S=n.n(k);function F(e){return I.apply(this,arguments)}function I(){return I=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,e.next=4,S.a.request({method:"post",baseURL:"https://localhost:8000/graphql",headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"},data:t});case 4:return c=e.sent,e.abrupt("return",c.data);case 8:throw e.prev=8,e.t0=e["catch"](1),localStorage.removeItem("token"),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),I.apply(this,arguments)}var N=Object(c["h"])({name:"NewFileBtn",methods:{clickHandler:function(){return Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=prompt("파일 이름을 입력하세요"),n=s.state.fileList,t){e.next=5;break}return alert("올바른 이름을 입력해주세요"),e.abrupt("return");case 5:if(-1===n.indexOf(t)){e.next=8;break}return alert("중복된 이름이 존재합니다"),e.abrupt("return");case 8:return e.prev=8,e.next=11,F({query:'\n          mutation {\n            createFile(name: "'.concat(t,'" content:  ').concat(JSON.stringify([""]),"){\n              msg\n            }\n          }\n        ")});case 11:s.commit("addNewFileList",t),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](8),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[8,14]])})))()}}});n("9918");N.render=w,N.__scopeId="data-v-fc231c72";var C=N,_=Object(c["E"])("data-v-7f560acc"),B=_((function(e,t,n,a,r,i){return Object(c["p"])(),Object(c["d"])("button",{onClick:t[1]||(t[1]=function(){return e.clickHandler&&e.clickHandler.apply(e,arguments)}),class:"l-saveFileBtn-container t-saveFileBtn-container"},"저장하기")})),L=Object(c["h"])({name:"SaveFileBtn",methods:{clickHandler:function(){return Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.state.selectedFileName,n=s.state.tempContents[t],e.prev=2,e.next=5,F({query:'\n          mutation {\n            updateFile(name: "'.concat(t,'" content: ').concat(JSON.stringify(n),"){\n              msg\n            }\n          }\n        ")});case 5:s.commit("updateOriginContents",{fileName:t,newContent:n}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))()}}});n("5633");L.render=B,L.__scopeId="data-v-7f560acc";var E=L,q=Object(c["E"])("data-v-3c288762"),H=q((function(e,t,n,a,r,i){return Object(c["p"])(),Object(c["d"])("button",{onClick:t[1]||(t[1]=function(){return e.clickHandler&&e.clickHandler.apply(e,arguments)}),class:"l-saveAsFileBtn-container t-saveAsFileBtn-container"}," 다른 이름으로 저장하기 ")})),R=Object(c["h"])({name:"SaveAsFileBtn",methods:{clickHandler:function(){return Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n,c,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=prompt("파일 이름을 입력하세요"),n=s.state.fileList,c=s.state.selectedFileName,t){e.next=6;break}return alert("올바른 이름을 입력해주세요"),e.abrupt("return");case 6:if(-1===n.indexOf(t)){e.next=9;break}return alert("중복된 이름이 존재합니다"),e.abrupt("return");case 9:return a=s.state.tempContents[c],e.prev=10,e.next=13,F({query:'\n          mutation {\n            createFile(name: "'.concat(t,'" content:  ').concat(JSON.stringify(a),"){\n              msg\n            }\n          }\n        ")});case 13:s.commit("addNewFileList",t),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](10),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})))()}}});n("e7f1");R.render=H,R.__scopeId="data-v-3c288762";var T=R,M=Object(c["h"])({name:"Menu",components:{NewFileBtn:C,SaveFileBtn:E,SaveAsFileBtn:T}});n("3c08");M.render=g,M.__scopeId="data-v-b0c31a68";var A=M,$=Object(c["E"])("data-v-ad3f9c90");Object(c["s"])("data-v-ad3f9c90");var P={class:"l-navigator-container"};Object(c["q"])();var U=$((function(e,t,n,a,r,i){var o=Object(c["x"])("FileBtn");return Object(c["p"])(),Object(c["d"])("div",P,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(e.fileList,(function(t,n){return Object(c["p"])(),Object(c["d"])(o,{key:n,buttonIndex:n,onSetSelected:e.setSelected,name:t},null,8,["buttonIndex","onSetSelected","name"])})),128))])})),J=(n("b0c0"),Object(c["E"])("data-v-59c5ef60"));Object(c["s"])("data-v-59c5ef60");var D={class:"l-fileBtn-title"},z={key:0,class:"l-fileBtn-saveIndicator"};Object(c["q"])();var V=J((function(e,t,n,a,r,i){return Object(c["p"])(),Object(c["d"])("button",{onClick:t[1]||(t[1]=function(){return e.clickHandler&&e.clickHandler.apply(e,arguments)}),class:["l-fileBtn-container t-fileBtn-container",{"t-fileBtn-container-active":e.isActive}]},[Object(c["g"])("div",D,Object(c["z"])(e.name),1),e.isUnSaved?(Object(c["p"])(),Object(c["d"])("div",z,"⦿")):Object(c["e"])("",!0)],2)})),W=(n("a9e3"),Object(c["h"])({name:"FileBtn",props:{buttonIndex:Number,name:String},methods:{clickHandler:function(){this.isActive||this.$emit("setSelected",this.buttonIndex,this.$props.name)}},computed:{selectedIndex:function(){return s.state.selectedIndex},isActive:function(){return this.selectedIndex===this.buttonIndex},isUnSaved:function(){return!!this.$props.name&&!(JSON.stringify(s.state.tempContents[this.$props.name])===JSON.stringify(s.state.originContents[this.$props.name]))}}}));n("c14a");W.render=V,W.__scopeId="data-v-59c5ef60";var K=W,G=Object(c["h"])({name:"Navigator",components:{FileBtn:K},methods:{setSelected:function(e,t){s.commit("updateSelectedIndex",e),s.commit("updateSelectedFileName",t)}},computed:{fileList:function(){return s.state.fileList}},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F({query:"\n          query {\n            info {\n              list\n              lastFile\n            }\n          }\n        "});case 3:n=t.sent,c=n.data.info.list,a=n.data.info.lastFile,s.commit("updateFileList",c),s.commit("updateSelectedFileName",a),s.commit("updateSelectedIndex",e.fileList.indexOf(a)),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$router.push({path:"/login"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}});n("6f24");G.render=U,G.__scopeId="data-v-ad3f9c90";var Q=G,X=Object(c["E"])("data-v-37b5b7f4"),Y=X((function(e,t,n,a,r,i){var o=Object(c["x"])("Line");return Object(c["p"])(),Object(c["d"])("div",{ref:"editor",class:"l-editor-container t-editor-container",contentEditable:"true",onKeyup:t[1]||(t[1]=function(){return e.keyUpHandler&&e.keyUpHandler.apply(e,arguments)})},[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(e.content,(function(e,t){return Object(c["p"])(),Object(c["d"])(o,{key:t,contentEditable:"true"},{default:X((function(){return[Object(c["f"])(Object(c["z"])(e),1)]})),_:2},1024)})),128))],544)})),Z=n("2909"),ee=(n("d81d"),Object(c["E"])("data-v-122fd42e"));Object(c["s"])("data-v-122fd42e");var te={class:"l-line-container"};Object(c["q"])();var ne=ee((function(e,t,n,a,r,i){return Object(c["p"])(),Object(c["d"])("div",te,[Object(c["w"])(e.$slots,"default",{},void 0,!0)])})),ce=Object(c["h"])({name:"Line"});n("36a6");ce.render=ne,ce.__scopeId="data-v-122fd42e";var ae=ce,re=Object(c["h"])({name:"Editor",components:{Line:ae},data:function(){return{content:[""]}},methods:{keyUpHandler:function(){var e=Object(Z["a"])(this.$el.children).map((function(e){return e.innerHTML})),t=this.fileName;s.commit("updateTempContents",{fileName:t,newContent:e})}},computed:{fileName:function(){return s.state.selectedFileName}},watch:{fileName:function(e){var t=this,n=s.state.tempContents[e];n?this.content=s.state.tempContents[e]:F({query:'\n          query {\n            file(name: "'.concat(e,'") {\n              name\n              content\n            }\n          }\n        ')}).then((function(e){var n=e.data.file.name,c=e.data.file.content;t.content=e.data.file.content,s.commit("updateTempContents",{fileName:n,newContent:c}),s.commit("updateOriginContents",{fileName:n,newContent:c})})).catch((function(){t.$router.push({path:"/login"})}))}}});n("b053");re.render=Y,re.__scopeId="data-v-37b5b7f4";var ie=re,oe=Object(c["h"])({name:"Main",components:{Title:O,Menu:A,Navigator:Q,Editor:ie},beforeMount:function(){localStorage.getItem("token")||this.$router.push("/login")}});n("1895");oe.render=p,oe.__scopeId="data-v-b579ed76";var ue=oe,se=Object(c["E"])("data-v-28b93ea2");Object(c["s"])("data-v-28b93ea2");var le={class:"l-main-container"},de=Object(c["g"])("label",null,"ID : ",-1),pe=Object(c["g"])("label",null,"PW : ",-1);Object(c["q"])();var fe=se((function(e,t,n,a,r,i){var o=Object(c["x"])("Title");return Object(c["p"])(),Object(c["d"])("div",le,[Object(c["g"])(o,{text:"Login"}),Object(c["g"])("div",null,[de,Object(c["D"])(Object(c["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.id=t}),type:"text",placeholder:"ID를 입력해주세요"},null,512),[[c["B"],e.id]]),pe,Object(c["D"])(Object(c["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.pw=t}),type:"password",placeholder:"PW를 입력해주세요"},null,512),[[c["B"],e.pw]]),Object(c["g"])("button",{onClick:t[3]||(t[3]=function(){return e.onSubmit&&e.onSubmit.apply(e,arguments)}),id:"loginBtn"},"로그인")])])})),be=Object(c["h"])({name:"Login",components:{Title:O},data:function(){return{id:"",pw:""}},methods:{onSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,c,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.id&&e.pw){t.next=3;break}return alert("ID와 패스워드를 모두 입력해주세요"),t.abrupt("return");case 3:return n=e.id,c=e.pw,t.prev=5,t.next=8,S.a.post("https://localhost:8000/api/auth/login",{id:n,pw:c},{headers:{"Content-Type":"application/json"}});case 8:a=t.sent,200===a.status&&(r=a.data.token,localStorage.setItem("token",r),location.href="/"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))()}}});n("83bc");be.render=fe,be.__scopeId="data-v-28b93ea2";var ve=be,me=n("6c02"),Oe=[{path:"/",name:"Main",component:ue},{path:"/login",name:"Login",component:ve}],je=Object(me["a"])({history:Object(me["b"])(),routes:Oe}),he=je;Object(c["c"])(o).use(s).use(he).mount("#app")},d032:function(e,t,n){},d0aa:function(e,t,n){},d4a9:function(e,t,n){},dcff:function(e,t,n){},e7f1:function(e,t,n){"use strict";n("ae08")},ea29:function(e,t,n){}});
//# sourceMappingURL=app.3747fc8c.js.map